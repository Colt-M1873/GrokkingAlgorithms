ã€CyberDJã€‘[Go | Python] åŒå¾ªç¯/å€’åºå•è°ƒæ ˆ/æ­£åºä¸‹æ ‡å•è°ƒæ ˆ [ Ê•â—”Ï–â—”Ê”  | ğŸ]

## 1 åŒå¾ªç¯æ¨¡æ‹Ÿ

æ²¡ä»€ä¹ˆå¥½è®²çš„ï¼Œå°±æ˜¯æŒ‰ç…§é¢˜ç›®è¦æ±‚æ¥æ¨¡æ‹Ÿ

```Python 
    def finalPrices(self, prices: List[int]) -> List[int]:
        for i in range(len(prices)):
            for j in range(i+1,len(prices)):
                if prices[j]<=prices[i]:
                    prices[i]-=prices[j]
                    break
        return prices
```
```Golang 
func finalPrices(prices []int) []int {
    for  i:=range prices {
        for j:=i+1;j<len(prices);j++{
            if prices[j]<=prices[i]{
                prices[i]-=prices[j]
                break
            }
        }
    }
    return prices
}
```

## 2 å€’åºå•è°ƒæ ˆ

ç±»ä¼¼å®˜æ–¹é¢˜è§£ä¸­çš„æ–¹æ¡ˆï¼Œå€’åºéå†$prices$ï¼Œä¿è¯æ ˆçš„å•è°ƒæ€§ã€‚

é¢˜ç›®ä¸­çš„æè¿°æ˜¯æ­£å‘çš„ï¼š
æ­£åºéå†ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´  $prices[i]$ æ‰¾ä¸‹ä¸€ä¸ªä¸å¤§äºå®ƒçš„å…ƒç´  $prices[j]$

å¯åå‘æè¿°ä¸ºï¼š
å€’åºéå†ï¼Œå¯¹äºåŸæ•°ç»„çš„æ¯ä¸ªå…ƒç´  $price[i]$ï¼Œæ‰¾åˆ°ä¸Šä¸€ä¸ªå°äºç­‰äºå®ƒçš„å…ƒç´ ï¼Œè€Œå•è°ƒæ ˆæ­£æ˜¯èµ·åˆ°è¿™æ ·ä¸€ä¸ªä»å°åˆ°å¤§è®°å½•çš„ä½œç”¨ï¼Œå•è°ƒæ ˆé¡¶ $ms[-1]$æ°å¥½å°±æ˜¯ä¸Šä¸€ä¸ªå°äºç­‰äºå½“å‰å€¼çš„å…ƒç´ 

```python
def finalPrices(self, prices: List[int]) -> List[int]:
    l=len(prices)
    ms=[0] # monotonic stack
    ret=[0]*l # to be returned
    for i in range(l-1,-1,-1):
    p=prices[i]
    while ms and ms[-1]>p:
    ms.pop()
    ret[i]=p-ms[-1]
    ms.append(p)
    return ret
```

```Golang
func finalPrices(prices []int) []int {
    l:=len(prices)
    ms:=[]int{0}
    ret:=make([]int,l)
    for i:=l-1;i>=0;i--{
        p:=prices[i]
        for len(ms)>1 && ms[len(ms)-1]>p{
            ms=ms[:len(ms)-1]
        }
        ret[i]=p-ms[len(ms)-1]
        ms=append(ms,p)
    }
    return ret
}
```

## 3 æ­£åºå•è°ƒæ ˆ

æ•´ä½“æ€è·¯å’Œ[è¿™ç¯‡é¢˜è§£](https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/solution/pythonjavatypescriptgo-dan-diao-zhan-by-0f3uz/)ç±»ä¼¼ï¼Œå³åœ¨éå†ä»·æ ¼æ•°ç»„çš„åŒæ—¶ï¼Œå…ˆå°†æ‰€æœ‰å¾…æ‰“æŠ˜çš„ä»·æ ¼å­˜æ”¾åˆ°å•è°ƒæ ˆä¸­ï¼Œå¦‚æœé‡åˆ°æ›´ä½çš„ä»·æ ¼ï¼ˆå³ç¬¦åˆ $prices[j] <= prices[i]$ï¼‰ï¼Œåˆ™å¯¹å•è°ƒæ ˆä¸­çš„æ‰€æœ‰ä»·æ ¼è¿›è¡Œæ‰“æŠ˜ã€‚

ä½†å’Œ[è¿™ç¯‡é¢˜è§£](https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/solution/pythonjavatypescriptgo-dan-diao-zhan-by-0f3uz/)ç›¸æ¯”ï¼Œæ­¤æ–¹æ³•çš„æ”¹è¿›ä¹‹å¤„åœ¨äºï¼š

1. ç®€åŒ–æ ˆä¸­å­˜å‚¨çš„æ•°æ®ï¼šå®é™…ä¸Šæ ˆä¸­åªéœ€è¦å­˜å‚¨ä¸‹æ ‡indexï¼Œä¸éœ€è¦å­˜å‚¨ä»·æ ¼pï¼Œå¯ä»¥ä¾ç…§ä¸‹æ ‡indexåˆ°åŸ $prices$æ•°ç»„é‡Œå»æ‰¾ä»·æ ¼ 
2. ä¸éœ€è¦æ–°å»ºæ•°ç»„æ¥å­˜å‚¨ç­”æ¡ˆï¼Œå¯ä»¥ç›´æ¥åœ¨åŸæ•°ç»„ä¸­è¿›è¡Œæ“ä½œ

å…·ä½“å®æ–½ï¼š

å»ºç«‹é€’å¢è§„å¾‹çš„å•è°ƒæ ˆmsï¼Œä¸å­˜å‚¨ä»·æ ¼ï¼Œè€Œæ˜¯å­˜å‚¨ä¸‹æ ‡indexï¼Œå•è°ƒæ ˆä¸­å­˜å‚¨çš„æ˜¯ç›®å‰ä¸ºæ­¢å°šæœªæŠ˜æ‰£çš„åŸä»·çš„ä¸‹æ ‡

æ­£åºéå† $prices$æ•°ç»„ï¼Œå¯¹äº $prices$ä¸­çš„æ¯ä¸ªå…ƒç´  $prices[idx]$ï¼Œå¦‚æœå…¶ç¬¦åˆé€’å¢è§„å¾‹ï¼Œåˆ™å°†å…¶ä¸‹æ ‡ $idx$æ”¾å…¥ $ms$ä¸­ï¼Œå¦‚æœ $pirces[idx]$ å°äºå•è°ƒæ ˆé¡¶ï¼ˆå³ $ms[-1]$ï¼‰æ‰€å¯¹åº”çš„å€¼ï¼Œé‚£å°±åœ¨åŸ $pirces$ æ•°ç»„ä¸­å¯¹å•è°ƒæ ˆ $ms$ ä¸­å­˜å‚¨çš„æ‰€æœ‰ä¸‹æ ‡å¯¹åº”çš„ä»·æ ¼è¿›è¡Œæ‰“æŠ˜

```python
def finalPrices(self, prices: List[int]) -> List[int]:
	ms=[] # monotonic stack, å­˜å‚¨ä¸Šä¸€ä¸ªæœ€å¤§å€¼çš„index
    for idx, p in enumerate(prices):
    	while ms and prices[ms[-1]]>=p:
    		prices[ms.pop()]-=p
    	ms.append(idx)
    return prices
```

```Golang
func finalPrices(prices []int) []int {
    ms:=[]int{}
    for i:=range prices{
        p:=prices[i]
        for len(ms)>0 && prices[ms[len(ms)-1]]>=p{
            prices[ms[len(ms)-1]]-=p
            ms=ms[:len(ms)-1]
        }
        ms=append(ms,i)
    }
    return prices
}
```

